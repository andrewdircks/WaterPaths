cmake_minimum_required(VERSION 3.6)
project(TriangleModel)

set(CMAKE_CXX_STANDARD 14)
#set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -O0")
#set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -O3")
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fopenmp -O3")

set(SOURCE_FILES src/main.cpp src/SystemComponents/WaterSources/Reservoir.cpp src/SystemComponents/WaterSources/Reservoir.h src/ContinuityModels/ContinuityModel.cpp src/ContinuityModels/ContinuityModel.h src/Utils/Constants.h src/SystemComponents/Utility.cpp src/SystemComponents/Utility.h src/SystemComponents/Catchment.cpp src/SystemComponents/Catchment.h src/Utils/Utils.cpp src/Utils/Utils.h src/SystemComponents/WaterSources/WaterSource.cpp src/SystemComponents/WaterSources/WaterSource.h src/Simulation/Simulation.cpp src/Simulation/Simulation.h src/ContinuityModels/ContinuityModelROF.cpp src/ContinuityModels/ContinuityModelROF.h src/ContinuityModels/ContinuityModelRealization.cpp src/ContinuityModels/ContinuityModelRealization.h src/Utils/DataCollector.cpp src/Utils/DataCollector.h src/Utils/Graph/Graph.cpp src/Utils/Graph/Graph.h src/DroughtMitigationInstruments/Restrictions.cpp src/DroughtMitigationInstruments/Restrictions.h src/DroughtMitigationInstruments/DroughtMitigationPolicy.cpp src/DroughtMitigationInstruments/DroughtMitigationPolicy.h src/SystemComponents/WaterSources/Intake.cpp src/SystemComponents/WaterSources/Intake.h src/DroughtMitigationInstruments/Transfers.cpp src/DroughtMitigationInstruments/Transfers.h src/Utils/QPSolver/Array.hh src/Utils/QPSolver/Array.cc src/Utils/QPSolver/QuadProg++.cc src/Utils/QPSolver/QuadProg++.hh src/DroughtMitigationInstruments/InsurancePseudoROF.cpp src/DroughtMitigationInstruments/InsurancePseudoROF.h src/DroughtMitigationInstruments/InsuranceStorageToROF.cpp src/DroughtMitigationInstruments/InsuranceStorageToROF.h src/SystemComponents/WaterSources/ReservoirExpansion.cpp src/SystemComponents/WaterSources/ReservoirExpansion.h src/SystemComponents/WaterSources/Quarry.cpp src/SystemComponents/WaterSources/Quarry.h src/SystemComponents/WaterSources/WaterReuse.cpp src/SystemComponents/WaterSources/WaterReuse.h src/Utils/DataSeries.cpp src/Utils/DataSeries.h)
set(TEST_SOURCE_FILES src/SystemComponents/WaterSources/Reservoir.cpp
        src/SystemComponents/WaterSources/Reservoir.h src/ContinuityModels/ContinuityModel.cpp src/ContinuityModels/ContinuityModel.h src/Utils/Constants.h src/SystemComponents/Utility.cpp src/SystemComponents/Utility.h src/SystemComponents/Catchment.cpp src/SystemComponents/Catchment.h src/Utils/Utils.cpp src/Utils/Utils.h src/SystemComponents/WaterSources/WaterSource.cpp src/SystemComponents/WaterSources/WaterSource.h src/Simulation/Simulation.cpp src/Simulation/Simulation.h src/ContinuityModels/ContinuityModelROF.cpp src/ContinuityModels/ContinuityModelROF.h src/ContinuityModels/ContinuityModelRealization.cpp src/ContinuityModels/ContinuityModelRealization.h src/Utils/DataCollector.cpp src/Utils/DataCollector.h src/Utils/Graph/Graph.cpp src/Utils/Graph/Graph.h src/DroughtMitigationInstruments/Restrictions.cpp src/DroughtMitigationInstruments/Restrictions.h src/DroughtMitigationInstruments/DroughtMitigationPolicy.cpp src/DroughtMitigationInstruments/DroughtMitigationPolicy.h src/SystemComponents/WaterSources/Intake.cpp src/SystemComponents/WaterSources/Intake.h src/DroughtMitigationInstruments/Transfers.cpp src/DroughtMitigationInstruments/Transfers.h src/Utils/QPSolver/Array.hh src/Utils/QPSolver/Array.cc src/Utils/QPSolver/QuadProg++.cc src/Utils/QPSolver/QuadProg++.hh TestFiles/tests.cpp src/DroughtMitigationInstruments/InsurancePseudoROF.cpp src/DroughtMitigationInstruments/InsurancePseudoROF.h src/DroughtMitigationInstruments/InsuranceStorageToROF.cpp src/DroughtMitigationInstruments/InsuranceStorageToROF.h src/SystemComponents/WaterSources/ReservoirExpansion.cpp src/SystemComponents/WaterSources/ReservoirExpansion.h src/SystemComponents/WaterSources/Quarry.cpp src/SystemComponents/WaterSources/Quarry.h src/SystemComponents/WaterSources/WaterReuse.cpp src/SystemComponents/WaterSources/WaterReuse.h src/Utils/Matrices.h src/Utils/DataSeries.cpp src/Utils/DataSeries.h)
add_executable(TriangleModel ${SOURCE_FILES})
add_executable(TestTriangleModel ${TEST_SOURCE_FILES})